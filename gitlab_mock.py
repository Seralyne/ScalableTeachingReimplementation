from flask import Flask, Response
import json


app = Flask(__name__)

@app.route("/ping")
def ping():
    obj = {"data": "Pong!"}
    return Response(json.dumps(obj), status=200, mimetype="application/json")

@app.route("/api/v4/projects/<id>/jobs")
def gitlab_api_mock(id):
    print(id)
    print(type(id))
    if int(id) != 1:
        obj = {"data": "not_found"}
        return Response(json.dumps(obj), status=404, mimetype="application/json")
    object = """[{"id":98915,"status":"success","stage":"test","name":"testStringReversible","ref":"assignment","tag":false,"coverage":null,"allow_failure":false,"created_at":"2023-03-02T13:29:11.280Z","started_at":"2023-03-02T13:41:19.356Z","finished_at":"2023-03-02T13:41:36.383Z","erased_at":null,"duration":17.026808,"queued_duration":727.542309,"user":{"id":1531,"username":"sowel20","public_email":"","name":"Mia","state":"active","locked":false,"avatar_url":"https://secure.gravatar.com/avatar/818317549264e3b991bf58290fb25a422fc121152642d766bad70542a4abb634?s=80&d=identicon","web_url":"https://gitlab.sdu.dk/sowel20","created_at":"2022-12-04T20:14:32.323Z","bio":"","location":"","skype":"","linkedin":"","twitter":"","discord":"","website_url":"","organization":"","job_title":"","pronouns":"She/her","bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"439b7748d667be06ee446c0738ed15001eea8105","short_id":"439b7748","created_at":"2023-03-02T14:29:07.000+01:00","parent_ids":["7f42ed43275acb9ee3d37592c17d1ea525b9874e"],"title":"nvm now it is","message":"nvm now it is\n","author_name":"Davixxa","author_email":"serverboost100.dk@gmail.com","authored_date":"2023-03-02T14:29:07.000+01:00","committer_name":"Davixxa","committer_email":"serverboost100.dk@gmail.com","committed_date":"2023-03-02T14:29:07.000+01:00","trailers":{},"extended_trailers":{},"web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/commit/439b7748d667be06ee446c0738ed15001eea8105"},"pipeline":{"id":32351,"iid":6,"project_id":5942,"sha":"439b7748d667be06ee446c0738ed15001eea8105","ref":"assignment","status":"failed","source":"push","created_at":"2023-03-02T13:29:11.260Z","updated_at":"2023-03-02T13:41:37.325Z","web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/pipelines/32351"},"web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/jobs/98915","project":{"ci_job_token_scope_enabled":false},"artifacts":[{"file_type":"trace","size":6084,"filename":"job.log","file_format":null}],"runner":null,"runner_manager":null,"artifacts_expire_at":null,"archived":false,"tag_list":[]},{"id":98914,"status":"failed","stage":"test","name":"testStory","ref":"assignment","tag":false,"coverage":null,"allow_failure":false,"created_at":"2023-03-02T13:29:11.274Z","started_at":"2023-03-02T13:41:14.547Z","finished_at":"2023-03-02T13:41:37.243Z","erased_at":null,"duration":22.696106,"queued_duration":722.62342,"user":{"id":1531,"username":"sowel20","public_email":"","name":"Mia","state":"active","locked":false,"avatar_url":"https://secure.gravatar.com/avatar/818317549264e3b991bf58290fb25a422fc121152642d766bad70542a4abb634?s=80&d=identicon","web_url":"https://gitlab.sdu.dk/sowel20","created_at":"2022-12-04T20:14:32.323Z","bio":"","location":"","skype":"","linkedin":"","twitter":"","discord":"","website_url":"","organization":"","job_title":"","pronouns":"She/her","bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"439b7748d667be06ee446c0738ed15001eea8105","short_id":"439b7748","created_at":"2023-03-02T14:29:07.000+01:00","parent_ids":["7f42ed43275acb9ee3d37592c17d1ea525b9874e"],"title":"nvm now it is","message":"nvm now it is\n","author_name":"Davixxa","author_email":"serverboost100.dk@gmail.com","authored_date":"2023-03-02T14:29:07.000+01:00","committer_name":"Davixxa","committer_email":"serverboost100.dk@gmail.com","committed_date":"2023-03-02T14:29:07.000+01:00","trailers":{},"extended_trailers":{},"web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/commit/439b7748d667be06ee446c0738ed15001eea8105"},"pipeline":{"id":32351,"iid":6,"project_id":5942,"sha":"439b7748d667be06ee446c0738ed15001eea8105","ref":"assignment","status":"failed","source":"push","created_at":"2023-03-02T13:29:11.260Z","updated_at":"2023-03-02T13:41:37.325Z","web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/pipelines/32351"},"failure_reason":"script_failure","web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/jobs/98914","project":{"ci_job_token_scope_enabled":false},"artifacts":[{"file_type":"trace","size":253275,"filename":"job.log","file_format":null}],"runner":null,"runner_manager":null,"artifacts_expire_at":null,"archived":false,"tag_list":[]},{"id":98913,"status":"success","stage":"test","name":"testComparison","ref":"assignment","tag":false,"coverage":null,"allow_failure":false,"created_at":"2023-03-02T13:29:11.267Z","started_at":"2023-03-02T13:41:13.689Z","finished_at":"2023-03-02T13:41:31.315Z","erased_at":null,"duration":17.626073,"queued_duration":721.690152,"user":{"id":1531,"username":"sowel20","public_email":"","name":"Mia","state":"active","locked":false,"avatar_url":"https://secure.gravatar.com/avatar/818317549264e3b991bf58290fb25a422fc121152642d766bad70542a4abb634?s=80&d=identicon","web_url":"https://gitlab.sdu.dk/sowel20","created_at":"2022-12-04T20:14:32.323Z","bio":"","location":"","skype":"","linkedin":"","twitter":"","discord":"","website_url":"","organization":"","job_title":"","pronouns":"She/her","bot":false,"work_information":null,"followers":0,"following":0,"local_time":null},"commit":{"id":"439b7748d667be06ee446c0738ed15001eea8105","short_id":"439b7748","created_at":"2023-03-02T14:29:07.000+01:00","parent_ids":["7f42ed43275acb9ee3d37592c17d1ea525b9874e"],"title":"nvm now it is","message":"nvm now it is\n","author_name":"Davixxa","author_email":"serverboost100.dk@gmail.com","authored_date":"2023-03-02T14:29:07.000+01:00","committer_name":"Davixxa","committer_email":"serverboost100.dk@gmail.com","committed_date":"2023-03-02T14:29:07.000+01:00","trailers":{},"extended_trailers":{},"web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/commit/439b7748d667be06ee446c0738ed15001eea8105"},"pipeline":{"id":32351,"iid":6,"project_id":5942,"sha":"439b7748d667be06ee446c0738ed15001eea8105","ref":"assignment","status":"failed","source":"push","created_at":"2023-03-02T13:29:11.260Z","updated_at":"2023-03-02T13:41:37.325Z","web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/pipelines/32351"},"web_url":"https://gitlab.sdu.dk/scalable-teaching-tasks/videregaende-objektorienteret-programming-f23/point-giving_activity1/point-giving-activity-1-4oqonnvu/-/jobs/98913","project":{"ci_job_token_scope_enabled":false},"artifacts":[{"file_type":"trace","size":6083,"filename":"job.log","file_format":null}],"runner":null,"runner_manager":null,"artifacts_expire_at":null,"archived":false,"tag_list":[]}]"""


    pythonic_object = json.loads(object, strict=False)
    return Response(json.dumps(pythonic_object), status=200, mimetype="application/json")